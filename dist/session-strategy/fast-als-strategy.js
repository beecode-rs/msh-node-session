// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-expect-error
import fastAls from 'fast-als';
export class FastAlsStrategy {
    clear(key) {
        fastAls.set(key, undefined);
    }
    createSession(callback, options) {
        const { defaultValue = {} } = options ?? {};
        fastAls.runWith(defaultValue, () => {
            callback();
        });
    }
    get(key) {
        return fastAls.get(key);
    }
    set(key, value) {
        fastAls.set(key, value);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1hbHMtc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2Vzc2lvbi1zdHJhdGVneS9mYXN0LWFscy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2REFBNkQ7QUFDN0QsbUJBQW1CO0FBQ25CLE9BQU8sT0FBTyxNQUFNLFVBQVUsQ0FBQTtBQUk5QixNQUFNLE9BQU8sZUFBZTtJQUMzQixLQUFLLENBQUMsR0FBVztRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUM1QixDQUFDO0lBRUQsYUFBYSxDQUFDLFFBQW9CLEVBQUUsT0FBOEI7UUFDakUsTUFBTSxFQUFFLFlBQVksR0FBRyxFQUFFLEVBQUUsR0FBRyxPQUFPLElBQUksRUFBRSxDQUFBO1FBQzNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtZQUNsQyxRQUFRLEVBQUUsQ0FBQTtRQUNYLENBQUMsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUVELEdBQUcsQ0FBSSxHQUFXO1FBQ2pCLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQWtCLENBQUE7SUFDekMsQ0FBQztJQUVELEdBQUcsQ0FBSSxHQUFXLEVBQUUsS0FBUTtRQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtJQUN4QixDQUFDO0NBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZmFzdEFscyBmcm9tICdmYXN0LWFscydcblxuaW1wb3J0IHsgQ3JlYXRlU2Vzc2lvbk9wdGlvbnMsIFNlc3Npb25TdHJhdGVneSB9IGZyb20gJyNzcmMvc2Vzc2lvbi1zdHJhdGVneS9zZXNzaW9uLXN0cmF0ZWd5J1xuXG5leHBvcnQgY2xhc3MgRmFzdEFsc1N0cmF0ZWd5IGltcGxlbWVudHMgU2Vzc2lvblN0cmF0ZWd5IHtcblx0Y2xlYXIoa2V5OiBzdHJpbmcpOiB2b2lkIHtcblx0XHRmYXN0QWxzLnNldChrZXksIHVuZGVmaW5lZClcblx0fVxuXG5cdGNyZWF0ZVNlc3Npb24oY2FsbGJhY2s6ICgpID0+IHZvaWQsIG9wdGlvbnM/OiBDcmVhdGVTZXNzaW9uT3B0aW9ucyk6IHZvaWQge1xuXHRcdGNvbnN0IHsgZGVmYXVsdFZhbHVlID0ge30gfSA9IG9wdGlvbnMgPz8ge31cblx0XHRmYXN0QWxzLnJ1bldpdGgoZGVmYXVsdFZhbHVlLCAoKSA9PiB7XG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0fSlcblx0fVxuXG5cdGdldDxUPihrZXk6IHN0cmluZyk6IFQgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiBmYXN0QWxzLmdldChrZXkpIGFzIFQgfCB1bmRlZmluZWRcblx0fVxuXG5cdHNldDxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkIHtcblx0XHRmYXN0QWxzLnNldChrZXksIHZhbHVlKVxuXHR9XG59XG4iXX0=