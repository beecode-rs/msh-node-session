// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-expect-error
import fastAls from 'fast-als';
export class FastAlsStrategy {
    clear(key) {
        fastAls.set(key, undefined);
    }
    createSession(callback, options) {
        const { defaultValue = {} } = options ?? {};
        fastAls.runWith(defaultValue, () => {
            callback();
        });
    }
    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-parameters
    get(key) {
        return fastAls.get(key);
    }
    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-parameters
    set(key, value) {
        fastAls.set(key, value);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1hbHMtc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2Vzc2lvbi1zdHJhdGVneS9mYXN0LWFscy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2REFBNkQ7QUFDN0QsbUJBQW1CO0FBQ25CLE9BQU8sT0FBTyxNQUFNLFVBQVUsQ0FBQTtBQUk5QixNQUFNLE9BQU8sZUFBZTtJQUMzQixLQUFLLENBQUMsR0FBVztRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUM1QixDQUFDO0lBRUQsYUFBYSxDQUFDLFFBQW9CLEVBQUUsT0FBOEI7UUFDakUsTUFBTSxFQUFFLFlBQVksR0FBRyxFQUFFLEVBQUUsR0FBRyxPQUFPLElBQUksRUFBRSxDQUFBO1FBQzNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtZQUNsQyxRQUFRLEVBQUUsQ0FBQTtRQUNYLENBQUMsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUVELDZFQUE2RTtJQUM3RSxHQUFHLENBQUksR0FBVztRQUNqQixPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFrQixDQUFBO0lBQ3pDLENBQUM7SUFFRCw2RUFBNkU7SUFDN0UsR0FBRyxDQUFJLEdBQVcsRUFBRSxLQUFRO1FBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ3hCLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBmYXN0QWxzIGZyb20gJ2Zhc3QtYWxzJ1xuXG5pbXBvcnQgeyB0eXBlIENyZWF0ZVNlc3Npb25PcHRpb25zLCB0eXBlIFNlc3Npb25TdHJhdGVneSB9IGZyb20gJyNzcmMvc2Vzc2lvbi1zdHJhdGVneS9zZXNzaW9uLXN0cmF0ZWd5J1xuXG5leHBvcnQgY2xhc3MgRmFzdEFsc1N0cmF0ZWd5IGltcGxlbWVudHMgU2Vzc2lvblN0cmF0ZWd5IHtcblx0Y2xlYXIoa2V5OiBzdHJpbmcpOiB2b2lkIHtcblx0XHRmYXN0QWxzLnNldChrZXksIHVuZGVmaW5lZClcblx0fVxuXG5cdGNyZWF0ZVNlc3Npb24oY2FsbGJhY2s6ICgpID0+IHZvaWQsIG9wdGlvbnM/OiBDcmVhdGVTZXNzaW9uT3B0aW9ucyk6IHZvaWQge1xuXHRcdGNvbnN0IHsgZGVmYXVsdFZhbHVlID0ge30gfSA9IG9wdGlvbnMgPz8ge31cblx0XHRmYXN0QWxzLnJ1bldpdGgoZGVmYXVsdFZhbHVlLCAoKSA9PiB7XG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0fSlcblx0fVxuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1wYXJhbWV0ZXJzXG5cdGdldDxUPihrZXk6IHN0cmluZyk6IFQgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiBmYXN0QWxzLmdldChrZXkpIGFzIFQgfCB1bmRlZmluZWRcblx0fVxuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1wYXJhbWV0ZXJzXG5cdHNldDxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQpOiB2b2lkIHtcblx0XHRmYXN0QWxzLnNldChrZXksIHZhbHVlKVxuXHR9XG59XG4iXX0=