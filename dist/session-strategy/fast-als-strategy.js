// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-expect-error
import fastAls from 'fast-als';
export class FastAlsStrategy {
    clear(key) {
        fastAls.set(key, undefined);
    }
    createSession(callback, options) {
        const { defaultValue = {} } = options ?? {};
        fastAls.runWith(defaultValue, () => {
            callback();
        });
    }
    get(key) {
        return fastAls.get(key);
    }
    set(key, value) {
        fastAls.set(key, value);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1hbHMtc3RyYXRlZ3kuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2Vzc2lvbi1zdHJhdGVneS9mYXN0LWFscy1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2REFBNkQ7QUFDN0QsbUJBQW1CO0FBQ25CLE9BQU8sT0FBTyxNQUFNLFVBQVUsQ0FBQTtBQUk5QixNQUFNLE9BQU8sZUFBZTtJQUMzQixLQUFLLENBQUMsR0FBVztRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQTtJQUM1QixDQUFDO0lBRUQsYUFBYSxDQUFDLFFBQW9CLEVBQUUsT0FBOEI7UUFDakUsTUFBTSxFQUFFLFlBQVksR0FBRyxFQUFFLEVBQUUsR0FBRyxPQUFPLElBQUksRUFBRSxDQUFBO1FBQzNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtZQUNsQyxRQUFRLEVBQUUsQ0FBQTtRQUNYLENBQUMsQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUVELEdBQUcsQ0FBSSxHQUFXO1FBQ2pCLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQWtCLENBQUE7SUFDekMsQ0FBQztJQUVELEdBQUcsQ0FBSSxHQUFXLEVBQUUsS0FBUTtRQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtJQUN4QixDQUFDO0NBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgZmFzdEFscyBmcm9tICdmYXN0LWFscydcblxuaW1wb3J0IHsgdHlwZSBDcmVhdGVTZXNzaW9uT3B0aW9ucywgdHlwZSBTZXNzaW9uU3RyYXRlZ3kgfSBmcm9tICcjc3JjL3Nlc3Npb24tc3RyYXRlZ3kvc2Vzc2lvbi1zdHJhdGVneSdcblxuZXhwb3J0IGNsYXNzIEZhc3RBbHNTdHJhdGVneSBpbXBsZW1lbnRzIFNlc3Npb25TdHJhdGVneSB7XG5cdGNsZWFyKGtleTogc3RyaW5nKTogdm9pZCB7XG5cdFx0ZmFzdEFscy5zZXQoa2V5LCB1bmRlZmluZWQpXG5cdH1cblxuXHRjcmVhdGVTZXNzaW9uKGNhbGxiYWNrOiAoKSA9PiB2b2lkLCBvcHRpb25zPzogQ3JlYXRlU2Vzc2lvbk9wdGlvbnMpOiB2b2lkIHtcblx0XHRjb25zdCB7IGRlZmF1bHRWYWx1ZSA9IHt9IH0gPSBvcHRpb25zID8/IHt9XG5cdFx0ZmFzdEFscy5ydW5XaXRoKGRlZmF1bHRWYWx1ZSwgKCkgPT4ge1xuXHRcdFx0Y2FsbGJhY2soKVxuXHRcdH0pXG5cdH1cblxuXHRnZXQ8VD4oa2V5OiBzdHJpbmcpOiBUIHwgdW5kZWZpbmVkIHtcblx0XHRyZXR1cm4gZmFzdEFscy5nZXQoa2V5KSBhcyBUIHwgdW5kZWZpbmVkXG5cdH1cblxuXHRzZXQ8VD4oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZCB7XG5cdFx0ZmFzdEFscy5zZXQoa2V5LCB2YWx1ZSlcblx0fVxufVxuIl19