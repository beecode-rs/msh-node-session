export class ExpressAsyncLocalStorageHelper {
    _asyncLocalStorageStrategy;
    constructor(params) {
        const { asyncLocalStorageStrategy } = params;
        this._asyncLocalStorageStrategy = asyncLocalStorageStrategy;
    }
    expressMiddleware(_req, _res, next) {
        this._asyncLocalStorageStrategy.createSession(next);
    }
}
export const expressAsyncLocalStorageHelperFactory = (params) => {
    return new ExpressAsyncLocalStorageHelper(params);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwcmVzcy1hc3luYy1sb2NhbC1zdG9yYWdlLWhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL2V4cHJlc3MtYXN5bmMtbG9jYWwtc3RvcmFnZS1oZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsTUFBTSxPQUFPLDhCQUE4QjtJQUN2QiwwQkFBMEIsQ0FBMkI7SUFFeEUsWUFBWSxNQUFnRTtRQUMzRSxNQUFNLEVBQUUseUJBQXlCLEVBQUUsR0FBRyxNQUFNLENBQUE7UUFDNUMsSUFBSSxDQUFDLDBCQUEwQixHQUFHLHlCQUF5QixDQUFBO0lBQzVELENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxJQUFhLEVBQUUsSUFBYyxFQUFFLElBQWtCO1FBQ2xFLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDcEQsQ0FBQztDQUNEO0FBRUQsTUFBTSxDQUFDLE1BQU0scUNBQXFDLEdBQUcsQ0FBQyxNQUVyRCxFQUFrQyxFQUFFO0lBQ3BDLE9BQU8sSUFBSSw4QkFBOEIsQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUNsRCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIE5leHRGdW5jdGlvbiwgdHlwZSBSZXF1ZXN0LCB0eXBlIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcydcblxuaW1wb3J0IHsgdHlwZSBBc3luY0xvY2FsU3RvcmFnZVN0cmF0ZWd5IH0gZnJvbSAnI3NyYy9zZXNzaW9uLXN0cmF0ZWd5L2FzeW5jLWxvY2FsLXN0b3JhZ2Utc3RyYXRlZ3knXG5cbmV4cG9ydCBjbGFzcyBFeHByZXNzQXN5bmNMb2NhbFN0b3JhZ2VIZWxwZXIge1xuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgX2FzeW5jTG9jYWxTdG9yYWdlU3RyYXRlZ3k6IEFzeW5jTG9jYWxTdG9yYWdlU3RyYXRlZ3lcblxuXHRjb25zdHJ1Y3RvcihwYXJhbXM6IHsgYXN5bmNMb2NhbFN0b3JhZ2VTdHJhdGVneTogQXN5bmNMb2NhbFN0b3JhZ2VTdHJhdGVneSB9KSB7XG5cdFx0Y29uc3QgeyBhc3luY0xvY2FsU3RvcmFnZVN0cmF0ZWd5IH0gPSBwYXJhbXNcblx0XHR0aGlzLl9hc3luY0xvY2FsU3RvcmFnZVN0cmF0ZWd5ID0gYXN5bmNMb2NhbFN0b3JhZ2VTdHJhdGVneVxuXHR9XG5cblx0ZXhwcmVzc01pZGRsZXdhcmUoX3JlcTogUmVxdWVzdCwgX3JlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbik6IHZvaWQge1xuXHRcdHRoaXMuX2FzeW5jTG9jYWxTdG9yYWdlU3RyYXRlZ3kuY3JlYXRlU2Vzc2lvbihuZXh0KVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBleHByZXNzQXN5bmNMb2NhbFN0b3JhZ2VIZWxwZXJGYWN0b3J5ID0gKHBhcmFtczoge1xuXHRhc3luY0xvY2FsU3RvcmFnZVN0cmF0ZWd5OiBBc3luY0xvY2FsU3RvcmFnZVN0cmF0ZWd5XG59KTogRXhwcmVzc0FzeW5jTG9jYWxTdG9yYWdlSGVscGVyID0+IHtcblx0cmV0dXJuIG5ldyBFeHByZXNzQXN5bmNMb2NhbFN0b3JhZ2VIZWxwZXIocGFyYW1zKVxufVxuIl19