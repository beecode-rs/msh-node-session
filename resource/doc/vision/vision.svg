<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="812px" preserveAspectRatio="none" style="width:1366px;height:812px;background:#FFFFFF;" version="1.1" viewBox="0 0 1366 812" width="1366px" zoomAndPan="magnify"><defs><filter height="300%" id="f3pf28ecmxjq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e98ebe3490bbb2ea6f5530794af2bc99]
cluster src_b874d07--><polygon fill="#FFFFFF" filter="url(#f3pf28ecmxjq)" points="16,6,45,6,52,28.2969,1334,28.2969,1334,805,16,805,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="52" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="23" x="20" y="20.9951">src</text><!--MD5=[793a32dc470ae4c150017d1194553bf7]
cluster helpers_e79980dd--><polygon fill="#FFFFFF" filter="url(#f3pf28ecmxjq)" points="90,485,156,485,163,507.2969,1297,507.2969,1297,781,90,781,90,485" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="90" x2="163" y1="507.2969" y2="507.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60" x="94" y="499.9951">helpers</text><!--MD5=[f21b0ea59e6c135a2c09faf68ef9548c]
cluster session_strategy_8743c280--><polygon fill="#FFFFFF" filter="url(#f3pf28ecmxjq)" points="143,49,281,49,288,71.2969,918,71.2969,918,461,143,461,143,49" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="143" x2="288" y1="71.2969" y2="71.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132" x="147" y="63.9951">session-strategy</text><!--MD5=[edb80642149639f5deec06debb645aa8]
class node_session_util_cf9cb43b--><rect codeLine="2" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="99.2915" id="node_session_util_cf9cb43b" style="stroke:#A80036;stroke-width:1.5;" width="384" x="934" y="307.5"/><ellipse cx="1073.75" cy="323.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1076.2344,329.375 Q1075.6563,329.6875 1075.0156,329.8438 Q1074.375,330 1073.6719,330 Q1071.1563,330 1069.8281,328.3281 Q1068.5156,326.6563 1068.5156,323.5 Q1068.5156,320.3438 1069.8281,318.6719 Q1071.1563,317 1073.6719,317 Q1074.375,317 1075.0156,317.1563 Q1075.6719,317.3125 1076.2344,317.625 L1076.2344,320.4219 Q1075.5938,319.8438 1075,319.5781 Q1074.4063,319.3125 1073.7813,319.3125 Q1072.4375,319.3125 1071.75,320.375 Q1071.0625,321.4219 1071.0625,323.5 Q1071.0625,325.5781 1071.75,326.6406 Q1072.4375,327.6875 1073.7813,327.6875 Q1074.4063,327.6875 1075,327.4219 Q1075.5938,327.1563 1076.2344,326.5781 L1076.2344,329.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="1094.25" y="327.6543">NodeSessionUtil</text><line style="stroke:#A80036;stroke-width:1.5;" x1="935" x2="1317" y1="339.5" y2="339.5"/><polygon fill="none" points="945,345.5,949,349.5,945,353.5,941,349.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="954" y="353.725">_strategy: SessionStrategy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="935" x2="1317" y1="360.3229" y2="360.3229"/><ellipse cx="945" cy="371.3229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="335" x="954" y="374.5478">constructor(props?: { sessionStrategy?: SessionStrategy })</text><ellipse cx="945" cy="384.1458" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="358" x="954" y="387.3707">createAsyncSession(callback: () =&gt; Promise&lt;T&gt;): Promise&lt;T&gt;</text><ellipse cx="945" cy="396.9686" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="954" y="400.1936">createSession(callback: () =&gt; void): void</text><!--MD5=[8cbe12dfab13fdbec386aaf37e61a015]
class express_cls_hooked_helper_da32a454--><rect codeLine="9" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="150.583" id="express_cls_hooked_helper_da32a454" style="stroke:#A80036;stroke-width:1.5;" width="391" x="106.5" y="520"/><ellipse cx="223.75" cy="536" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M226.2344,541.875 Q225.6563,542.1875 225.0156,542.3438 Q224.375,542.5 223.6719,542.5 Q221.1563,542.5 219.8281,540.8281 Q218.5156,539.1563 218.5156,536 Q218.5156,532.8438 219.8281,531.1719 Q221.1563,529.5 223.6719,529.5 Q224.375,529.5 225.0156,529.6563 Q225.6719,529.8125 226.2344,530.125 L226.2344,532.9219 Q225.5938,532.3438 225,532.0781 Q224.4063,531.8125 223.7813,531.8125 Q222.4375,531.8125 221.75,532.875 Q221.0625,533.9219 221.0625,536 Q221.0625,538.0781 221.75,539.1406 Q222.4375,540.1875 223.7813,540.1875 Q224.4063,540.1875 225,539.9219 Q225.5938,539.6563 226.2344,539.0781 L226.2344,541.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="244.25" y="540.1543">ExpressClsHookedHelper</text><line style="stroke:#A80036;stroke-width:1.5;" x1="107.5" x2="496.5" y1="552" y2="552"/><polygon fill="none" points="117.5,558,121.5,562,117.5,566,113.5,562" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="226" x="126.5" y="566.225">_clsHookedStrategy: ClsHookedStrategy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="107.5" x2="496.5" y1="572.8229" y2="572.8229"/><ellipse cx="117.5" cy="583.8229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="365" x="126.5" y="587.0478">constructor(params: { clsHookedStrategy: ClsHookedStrategy })</text><ellipse cx="117.5" cy="596.6458" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="126.5" y="599.8707">expressMiddleware(_req: Request,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="130.5" y="612.6936">_res: Response,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="130.5" y="625.5165">next: NextFunction): void</text><ellipse cx="117.5" cy="635.1144" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="257" x="126.5" y="638.3393">expressMiddlewareBindEmitter(req: Request,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="130.5" y="651.1622">res: Response,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="130.5" y="663.9851">next: NextFunction): void</text><rect fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="206" x="153" y="731"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192" x="160" y="744.1387">expressClsHookedHelperFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="358" y1="748.9688" y2="748.9688"/><!--MD5=[f2130c1f75930a103784bcf52fd5caec]
class express_fast_als_helper_7b7757d4--><rect codeLine="17" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="112.1144" id="express_fast_als_helper_7b7757d4" style="stroke:#A80036;stroke-width:1.5;" width="353" x="532.5" y="539.5"/><ellipse cx="640.75" cy="555.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M643.2344,561.375 Q642.6563,561.6875 642.0156,561.8438 Q641.375,562 640.6719,562 Q638.1563,562 636.8281,560.3281 Q635.5156,558.6563 635.5156,555.5 Q635.5156,552.3438 636.8281,550.6719 Q638.1563,549 640.6719,549 Q641.375,549 642.0156,549.1563 Q642.6719,549.3125 643.2344,549.625 L643.2344,552.4219 Q642.5938,551.8438 642,551.5781 Q641.4063,551.3125 640.7813,551.3125 Q639.4375,551.3125 638.75,552.375 Q638.0625,553.4219 638.0625,555.5 Q638.0625,557.5781 638.75,558.6406 Q639.4375,559.6875 640.7813,559.6875 Q641.4063,559.6875 642,559.4219 Q642.5938,559.1563 643.2344,558.5781 L643.2344,561.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128" x="661.25" y="559.6543">ExpressFastAlsHelper</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="884.5" y1="571.5" y2="571.5"/><polygon fill="none" points="543.5,577.5,547.5,581.5,543.5,585.5,539.5,581.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="552.5" y="585.725">_fastAlsStrategy: FastAlsStrategy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="533.5" x2="884.5" y1="592.3229" y2="592.3229"/><ellipse cx="543.5" cy="603.3229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="327" x="552.5" y="606.5478">constructor(params: { fastAlsStrategy: FastAlsStrategy })</text><ellipse cx="543.5" cy="616.1458" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="552.5" y="619.3707">expressMiddleware(_req: Request,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="556.5" y="632.1936">_res: Response,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="556.5" y="645.0165">next: NextFunction): void</text><rect fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="186" x="505" y="731"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="512" y="744.1387">expressFastAlsHelperFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="506" x2="690" y1="748.9688" y2="748.9688"/><!--MD5=[57777c18d9e69537571fb6b81a03ca42]
class fastify_helper_438f46--><rect codeLine="24" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="137.7601" id="fastify_helper_438f46" style="stroke:#A80036;stroke-width:1.5;" width="360" x="921" y="526.5"/><ellipse cx="1057.75" cy="542.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1060.2344,548.375 Q1059.6563,548.6875 1059.0156,548.8438 Q1058.375,549 1057.6719,549 Q1055.1563,549 1053.8281,547.3281 Q1052.5156,545.6563 1052.5156,542.5 Q1052.5156,539.3438 1053.8281,537.6719 Q1055.1563,536 1057.6719,536 Q1058.375,536 1059.0156,536.1563 Q1059.6719,536.3125 1060.2344,536.625 L1060.2344,539.4219 Q1059.5938,538.8438 1059,538.5781 Q1058.4063,538.3125 1057.7813,538.3125 Q1056.4375,538.3125 1055.75,539.375 Q1055.0625,540.4219 1055.0625,542.5 Q1055.0625,544.5781 1055.75,545.6406 Q1056.4375,546.6875 1057.7813,546.6875 Q1058.4063,546.6875 1059,546.4219 Q1059.5938,546.1563 1060.2344,545.5781 L1060.2344,548.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="1078.25" y="546.6543">FastifyHelper</text><line style="stroke:#A80036;stroke-width:1.5;" x1="922" x2="1280" y1="558.5" y2="558.5"/><polygon fill="none" points="932,564.5,936,568.5,932,572.5,928,568.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195" x="941" y="572.725">_sessionStrategy: SessionStrategy</text><ellipse cx="932" cy="582.3229" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="240" x="941" y="585.5478">beecodeSessionContextPluginFactory: any</text><ellipse cx="932" cy="595.1458" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="941" y="598.3707">validHooks</text><line style="stroke:#A80036;stroke-width:1.5;" x1="922" x2="1280" y1="604.9686" y2="604.9686"/><polygon fill="#FFFF44" points="932,610.9686,936,614.9686,932,618.9686,928,614.9686" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="941" y="619.1936">_plugin(fastify: any,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="945" y="632.0165">opts: any,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="945" y="644.8393">next: () =&gt; void): void</text><ellipse cx="932" cy="654.4373" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="334" x="941" y="657.6622">constructor(params: { sessionStrategy: SessionStrategy })</text><rect fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="134" x="1090" y="731"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="1097" y="744.1387">fastifyHelperFactory</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1091" x2="1223" y1="748.9688" y2="748.9688"/><rect fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="33.9688" style="stroke:#A80036;stroke-width:1.5;" width="146" x="159" y="129.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="166" y="142.6387">_defaultNameSpaceId</text><line style="stroke:#A80036;stroke-width:1.5;" x1="160" x2="304" y1="147.4688" y2="147.4688"/><!--MD5=[eb5edaa328fcafaef2464638e8793de0]
class cls_hooked_strategy_5f19a943--><rect codeLine="37" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="176.2288" id="cls_hooked_strategy_5f19a943" style="stroke:#A80036;stroke-width:1.5;" width="299" x="161.5" y="269"/><ellipse cx="249.75" cy="285" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M252.2344,290.875 Q251.6563,291.1875 251.0156,291.3438 Q250.375,291.5 249.6719,291.5 Q247.1563,291.5 245.8281,289.8281 Q244.5156,288.1563 244.5156,285 Q244.5156,281.8438 245.8281,280.1719 Q247.1563,278.5 249.6719,278.5 Q250.375,278.5 251.0156,278.6563 Q251.6719,278.8125 252.2344,279.125 L252.2344,281.9219 Q251.5938,281.3438 251,281.0781 Q250.4063,280.8125 249.7813,280.8125 Q248.4375,280.8125 247.75,281.875 Q247.0625,282.9219 247.0625,285 Q247.0625,287.0781 247.75,288.1406 Q248.4375,289.1875 249.7813,289.1875 Q250.4063,289.1875 251,288.9219 Q251.5938,288.6563 252.2344,288.0781 L252.2344,290.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114" x="270.25" y="289.1543">ClsHookedStrategy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="162.5" x2="459.5" y1="301" y2="301"/><ellipse cx="172.5" cy="312" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="181.5" y="315.225">NS: Namespace</text><polygon fill="none" points="172.5,319.8229,176.5,323.8229,172.5,327.8229,168.5,323.8229" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="181.5" y="328.0478">_ns: Namespace</text><polygon fill="none" points="172.5,332.6458,176.5,336.6458,172.5,340.6458,168.5,336.6458" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="181.5" y="340.8707">_throwErrorIfInactiveContext: void</text><line style="stroke:#A80036;stroke-width:1.5;" x1="162.5" x2="459.5" y1="347.4686" y2="347.4686"/><ellipse cx="172.5" cy="358.4686" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="181.5" y="361.6936">clear(key: string): void</text><ellipse cx="172.5" cy="371.2915" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="273" x="181.5" y="374.5165">constructor(params?: { nameSpaceId?: string })</text><ellipse cx="172.5" cy="384.1144" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="181.5" y="387.3393">createSession(callback: () =&gt; void,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="185.5" y="400.1622">options?: CreateSessionOptions): void</text><ellipse cx="172.5" cy="409.7601" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="181.5" y="412.9851">get(key: string): T | undefined</text><ellipse cx="172.5" cy="422.583" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="181.5" y="425.808">set(key: string,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="185.5" y="438.6308">value: T): void</text><!--MD5=[b50ccdcac82eea20c918373d0179b4bb]
class fast_als_strategy_82c98943--><rect codeLine="47" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="124.9373" id="fast_als_strategy_82c98943" style="stroke:#A80036;stroke-width:1.5;" width="245" x="537.5" y="294.5"/><ellipse cx="608.75" cy="310.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M611.2344,316.375 Q610.6563,316.6875 610.0156,316.8438 Q609.375,317 608.6719,317 Q606.1563,317 604.8281,315.3281 Q603.5156,313.6563 603.5156,310.5 Q603.5156,307.3438 604.8281,305.6719 Q606.1563,304 608.6719,304 Q609.375,304 610.0156,304.1563 Q610.6719,304.3125 611.2344,304.625 L611.2344,307.4219 Q610.5938,306.8438 610,306.5781 Q609.4063,306.3125 608.7813,306.3125 Q607.4375,306.3125 606.75,307.375 Q606.0625,308.4219 606.0625,310.5 Q606.0625,312.5781 606.75,313.6406 Q607.4375,314.6875 608.7813,314.6875 Q609.4063,314.6875 610,314.4219 Q610.5938,314.1563 611.2344,313.5781 L611.2344,316.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="629.25" y="314.6543">FastAlsStrategy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="538.5" x2="781.5" y1="326.5" y2="326.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="538.5" x2="781.5" y1="334.5" y2="334.5"/><ellipse cx="548.5" cy="345.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="557.5" y="348.725">clear(key: string): void</text><ellipse cx="548.5" cy="358.3229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="557.5" y="361.5478">createSession(callback: () =&gt; void,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="561.5" y="374.3707">options?: CreateSessionOptions): void</text><ellipse cx="548.5" cy="383.9686" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="557.5" y="387.1936">get(key: string): T | undefined</text><ellipse cx="548.5" cy="396.7915" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="557.5" y="400.0165">set(key: string,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="561.5" y="412.8393">value: T): void</text><!--MD5=[60ac9b7880ecf2aedc43eeb64ee466b5]
entity create_session_options_87f89bce--><rect fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="46.5938" style="stroke:#000000;stroke-width:1.5;" width="281" x="340.5" y="123"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="350.5" y="138.9951">CreateSessionOptions</text><line style="stroke:#000000;stroke-width:1.0;" x1="341.5" x2="620.5" y1="142.2969" y2="142.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261" x="350.5" y="159.292">{ defaultValue?: { [k: string]: any } }</text><!--MD5=[0ceeffcea456ef212399300707abf1b1]
class session_strategy_87f89bce--><rect codeLine="58" fill="#FEFECE" filter="url(#f3pf28ecmxjq)" height="124.9373" id="session_strategy_87f89bce" style="stroke:#A80036;stroke-width:1.5;" width="245" x="656.5" y="84"/><ellipse cx="726.25" cy="100" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M722.6719,95.7656 L722.6719,93.5 L730.0625,93.5 L730.0625,95.7656 L727.5938,95.7656 L727.5938,104.2344 L730.0625,104.2344 L730.0625,106.5 L722.6719,106.5 L722.6719,104.2344 L725.1406,104.2344 L725.1406,95.7656 L722.6719,95.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="97" x="746.75" y="104.1543">SessionStrategy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="657.5" x2="900.5" y1="116" y2="116"/><line style="stroke:#A80036;stroke-width:1.5;" x1="657.5" x2="900.5" y1="124" y2="124"/><ellipse cx="667.5" cy="135" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="676.5" y="138.225">get(key: string): T | undefined</text><ellipse cx="667.5" cy="147.8229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="676.5" y="151.0478">set(key: string,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="680.5" y="163.8707">value: T): void</text><ellipse cx="667.5" cy="173.4686" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="676.5" y="176.6936">clear(key: string): void</text><ellipse cx="667.5" cy="186.2915" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="676.5" y="189.5165">createSession(callback: () =&gt; void,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="680.5" y="202.3393">options?: CreateSessionOptions): void</text><!--MD5=[729ccedaa0f1227878076199f41d3e04]
reverse link cls_hooked_strategy_5f19a943 to express_cls_hooked_helper_da32a454--><path codeLine="66" d="M307.49,450.25 C306.61,473.26 305.69,497.64 304.85,519.69 " fill="none" id="cls_hooked_strategy_5f19a943-backto-express_cls_hooked_helper_da32a454" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="307.69,445.06,303.3587,453.9053,307.5044,450.0566,311.3532,454.2023,307.69,445.06" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[36c7472dfc33d9b7370eac14a2685316]
reverse link cls_hooked_strategy_5f19a943 to express_cls_hooked_helper_factory_da32a454--><path codeLine="67" d="M156.83,399.05 C119.13,416.73 83.26,441.75 61,477 C14.96,549.9 12.35,599.82 61,671 C82.12,701.9 117.81,720.23 152.93,731.12 " fill="none" id="cls_hooked_strategy_5f19a943-backto-express_cls_hooked_helper_factory_da32a454" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="161.44,396.93,151.5922,397.0756,156.9015,399.028,154.949,404.3372,161.44,396.93" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1f79fdd9b287e82e3167518fdb7f86e7]
reverse link express_cls_hooked_helper_da32a454 to express_cls_hooked_helper_factory_da32a454--><path codeLine="68" d="M277.61,676.3 C271.27,697.03 265.08,717.3 260.96,730.78 " fill="none" id="express_cls_hooked_helper_da32a454-backto-express_cls_hooked_helper_factory_da32a454" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="279.13,671.31,272.682,678.7547,277.6736,676.0932,280.3351,681.0849,279.13,671.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a49cfa609d2c382912a53b1bd68c17de]
reverse link fast_als_strategy_82c98943 to express_fast_als_helper_7b7757d4--><path codeLine="69" d="M673.84,424.8 C681.34,460.98 690.49,505.14 697.57,539.34 " fill="none" id="fast_als_strategy_82c98943-backto-express_fast_als_helper_7b7757d4" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="672.75,419.52,670.6629,429.1452,673.7663,424.4156,678.4959,427.519,672.75,419.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[49b3b31486d60f86752d518ba774173f]
reverse link fast_als_strategy_82c98943 to express_fast_als_helper_factory_7b7757d4--><path codeLine="70" d="M575.36,422.33 C546.08,441.02 512.03,459.06 478,469 C457.25,475.06 104.13,461.56 89,477 C58.83,507.8 60.86,638.34 89,671 C115.74,702.03 365.34,727.6 504.8,739.61 " fill="none" id="fast_als_strategy_82c98943-backto-express_fast_als_helper_factory_7b7757d4" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="579.65,419.57,569.92,421.0955,575.4506,422.2839,574.2622,427.8145,579.65,419.57" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a41c7104c876637c4192211b479a7cd8]
reverse link express_fast_als_helper_7b7757d4 to express_fast_als_helper_factory_7b7757d4--><path codeLine="71" d="M665.11,656.01 C645.12,683.11 623.02,713.07 609.84,730.95 " fill="none" id="express_fast_als_helper_7b7757d4-backto-express_fast_als_helper_factory_7b7757d4" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="668.3,651.69,659.7386,656.5586,665.3321,655.7138,666.1768,661.3073,668.3,651.69" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[cf6afe86488c039c8da58cc0e2963e34]
reverse link session_strategy_87f89bce to fastify_helper_438f46--><path codeLine="72" d="M795.83,214.14 C817.55,296.21 856.44,429.6 889,469 C893.57,474.52 896.81,473.39 903,477 C930.29,492.89 959.59,510.16 987.06,526.45 " fill="none" id="session_strategy_87f89bce-backto-fastify_helper_438f46" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="794.55,209.3,792.9665,219.0207,795.8197,214.1361,800.7043,216.9893,794.55,209.3" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[af9675eee1d7cc0cdc9cf365050ab171]
reverse link session_strategy_87f89bce to fastify_helper_factory_438f46--><path codeLine="73" d="M827.94,213.5 C839.11,230.88 850.03,250.08 858,269 C893.39,352.96 832.43,411.37 903,469 C920.04,482.92 1283.6,461.28 1299,477 C1359.35,538.58 1343.31,597.03 1299,671 C1281.18,700.74 1247.31,719.5 1217.12,730.94 " fill="none" id="session_strategy_87f89bce-backto-fastify_helper_factory_438f46" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="825.1,209.13,826.6255,218.86,827.8139,213.3294,833.3445,214.5178,825.1,209.13" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2d19fbcc20f71b7a3bb526c588221bd6]
reverse link fastify_helper_438f46 to fastify_helper_factory_438f46--><path codeLine="74" d="M1128.2,669.61 C1136.77,692.64 1145.44,715.93 1150.99,730.86 " fill="none" id="fastify_helper_438f46-backto-fastify_helper_factory_438f46" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1126.38,664.7,1125.7685,674.5299,1128.1231,669.3863,1133.2666,671.7409,1126.38,664.7" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3e98e9fad82a6a53da8e7c28fe0ce722]
reverse link session_strategy_87f89bce to node_session_util_cf9cb43b--><path codeLine="75" d="M886,211.8 C937.27,242.6 997.66,278.88 1045.04,307.35 " fill="none" id="session_strategy_87f89bce-backto-node_session_util_cf9cb43b" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="881.7,209.21,887.3595,217.2704,885.9875,211.7825,891.4754,210.4105,881.7,209.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2d54df9863003ed8d8be9e9211452dd6]
reverse link create_session_options_87f89bce to cls_hooked_strategy_5f19a943--><path codeLine="76" d="M459.2,174.24 C439.67,198.19 409.92,234.68 382.18,268.7 " fill="none" id="create_session_options_87f89bce-backto-cls_hooked_strategy_5f19a943" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="462.48,170.21,453.6922,174.6568,459.32,174.0849,459.892,179.7127,462.48,170.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8fe446116ac7aaeb383c101476b5279b]
reverse link session_strategy_87f89bce to cls_hooked_strategy_5f19a943--><path codeLine="77" d="M637.74,210.43 C581.86,235.33 517.56,263.98 460.86,289.24 " fill="none" id="session_strategy_87f89bce-backto-cls_hooked_strategy_5f19a943" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="635.23,203.89,656.34,202.14,640.92,216.68,635.23,203.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1a15e0ec56904fffe9d51e6fc6b59b51]
reverse link create_session_options_87f89bce to fast_als_strategy_82c98943--><path codeLine="78" d="M503.88,174.15 C529.75,204.28 572.73,254.35 607.06,294.33 " fill="none" id="create_session_options_87f89bce-backto-fast_als_strategy_82c98943" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="500.5,170.21,503.3377,179.6412,503.761,174.0002,509.402,174.4236,500.5,170.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[38ca0f4e381cfdda7e4be579efda96e1]
reverse link session_strategy_87f89bce to fast_als_strategy_82c98943--><path codeLine="79" d="M733.77,226.76 C720.97,249.18 707.24,273.24 695.13,294.45 " fill="none" id="session_strategy_87f89bce-backto-fast_als_strategy_82c98943" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="727.79,223.11,743.78,209.21,739.94,230.05,727.79,223.11" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7bce18fd699e7e910ece1c19f56bfdeb]
@startuml
    folder "src" as src_b874d07 {
      class "NodeSessionUtil" as node_session_util_cf9cb43b {
        # _strategy: SessionStrategy
        + constructor(props?: { sessionStrategy?: SessionStrategy })
        + createAsyncSession(callback: () => Promise<T>): Promise<T>
        + createSession(callback: () => void): void
      }
      folder "helpers" as helpers_e79980dd {
        class "ExpressClsHookedHelper" as express_cls_hooked_helper_da32a454 {
          # _clsHookedStrategy: ClsHookedStrategy
          + constructor(params: { clsHookedStrategy: ClsHookedStrategy })
          + expressMiddleware(_req: Request,\n _res: Response,\n next: NextFunction): void
          + expressMiddlewareBindEmitter(req: Request,\n res: Response,\n next: NextFunction): void
        }
        object "expressClsHookedHelperFactory" as express_cls_hooked_helper_factory_da32a454 {
        }
        class "ExpressFastAlsHelper" as express_fast_als_helper_7b7757d4 {
          # _fastAlsStrategy: FastAlsStrategy
          + constructor(params: { fastAlsStrategy: FastAlsStrategy })
          + expressMiddleware(_req: Request,\n _res: Response,\n next: NextFunction): void
        }
        object "expressFastAlsHelperFactory" as express_fast_als_helper_factory_7b7757d4 {
        }
        class "FastifyHelper" as fastify_helper_438f46 {
          # _plugin(fastify: any,\n opts: any,\n next: () => void): void
          # _sessionStrategy: SessionStrategy
          + beecodeSessionContextPluginFactory: any
          + constructor(params: { sessionStrategy: SessionStrategy })
          + validHooks
        }
        object "fastifyHelperFactory" as fastify_helper_factory_438f46 {
        }
      }
      folder "session-strategy" as session_strategy_8743c280 {
        object "_defaultNameSpaceId" as default_name_space_id_5f19a943 {
        }
        class "ClsHookedStrategy" as cls_hooked_strategy_5f19a943 {
          + NS: Namespace
          # _ns: Namespace
          # _throwErrorIfInactiveContext: void
          + clear(key: string): void
          + constructor(params?: { nameSpaceId?: string })
          + createSession(callback: () => void,\n options?: CreateSessionOptions): void
          + get(key: string): T | undefined
          + set(key: string,\n value: T): void
        }
        class "FastAlsStrategy" as fast_als_strategy_82c98943 {
          + clear(key: string): void
          + createSession(callback: () => void,\n options?: CreateSessionOptions): void
          + get(key: string): T | undefined
          + set(key: string,\n value: T): void
        }
        card create_session_options_87f89bce [
          CreateSessionOptions
          - - -
          { defaultValue?: { [k: string]: any } }
        ]
        interface "SessionStrategy" as session_strategy_87f89bce {
          + get(key: string): T | undefined
          + set(key: string,\n value: T): void
          + clear(key: string): void
          + createSession(callback: () => void,\n options?: CreateSessionOptions): void
        }
      }
    }
  express_cls_hooked_helper_da32a454 -up-> cls_hooked_strategy_5f19a943
  express_cls_hooked_helper_factory_da32a454 -up-> cls_hooked_strategy_5f19a943
  express_cls_hooked_helper_factory_da32a454 -up-> express_cls_hooked_helper_da32a454
  express_fast_als_helper_7b7757d4 -up-> fast_als_strategy_82c98943
  express_fast_als_helper_factory_7b7757d4 -up-> fast_als_strategy_82c98943
  express_fast_als_helper_factory_7b7757d4 -up-> express_fast_als_helper_7b7757d4
  fastify_helper_438f46 -up-> session_strategy_87f89bce
  fastify_helper_factory_438f46 -up-> session_strategy_87f89bce
  fastify_helper_factory_438f46 -up-> fastify_helper_438f46
  node_session_util_cf9cb43b -up-> session_strategy_87f89bce
  cls_hooked_strategy_5f19a943 -up-> create_session_options_87f89bce
  cls_hooked_strategy_5f19a943 .up.|> session_strategy_87f89bce
  fast_als_strategy_82c98943 -up-> create_session_options_87f89bce
  fast_als_strategy_82c98943 .up.|> session_strategy_87f89bce
@enduml

PlantUML version 1.2021.16(Wed Dec 08 18:25:22 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>